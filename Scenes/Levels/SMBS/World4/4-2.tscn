[gd_scene load_steps=13 format=4 uid="uid://cbtfhmc6h1vf7"]

[ext_resource type="Script" uid="uid://bcqr1v25ygedb" path="res://Scripts/Classes/LevelClass.gd" id="1_nb3nt"]
[ext_resource type="JSON" path="res://Assets/Audio/BGM/Mountain.json" id="2_t1ptu"]
[ext_resource type="PackedScene" uid="uid://cuh62hlq8errh" path="res://Scenes/Prefabs/Entities/Player.tscn" id="4_cwj12"]
[ext_resource type="PackedScene" uid="uid://ct5rrpa7uehkk" path="res://Scenes/Parts/Tiles.tscn" id="5_5r15g"]
[ext_resource type="PackedScene" uid="uid://githt8ci1xal" path="res://Scenes/Parts/StartCastle.tscn" id="7_n8at7"]
[ext_resource type="Script" uid="uid://bdq0373j5n5o0" path="res://Scripts/Parts/CameraRightLimit.gd" id="8_dnxbp"]
[ext_resource type="PackedScene" uid="uid://cinr6kcbmo6gr" path="res://Scenes/Parts/DropShadowRenderer.tscn" id="9_878l6"]
[ext_resource type="Script" uid="uid://cybpwmw4ywoow" path="res://Scripts/Parts/TileMapConverter.gd" id="10_cwj12"]
[ext_resource type="PackedScene" uid="uid://dkgu57is78lro" path="res://Scenes/Parts/PipeArea.tscn" id="10_t1ptu"]
[ext_resource type="PackedScene" uid="uid://bksxgpygrdjl7" path="res://Scenes/Prefabs/LevelBG.tscn" id="11_5r15g"]
[ext_resource type="Script" uid="uid://cgm3opb5qudc1" path="res://Scripts/Parts/ChallengeModeNodes.gd" id="11_n8at7"]
[ext_resource type="PackedScene" uid="uid://cmbpqnq10arts" path="res://Scenes/Prefabs/Entities/Items/RedCoin.tscn" id="12_dnxbp"]

[node name="4-2" type="Node"]
script = ExtResource("1_nb3nt")
music = ExtResource("2_t1ptu")
theme = "Mountain"
campaign = "SMBS"
world_id = 4
level_id = 2
metadata/_custom_type_script = "uid://bcqr1v25ygedb"

[node name="Player" parent="." instance=ExtResource("4_cwj12")]
position = Vector2(-216, 0)

[node name="Tiles" parent="." instance=ExtResource("5_5r15g")]
tile_map_data = PackedByteArray("AADw/wAAAAAGAAIAAADx/wAAAAAGAAIAAAD1/wAAAAAGAAIAAAD2/wAAAAAHAAIAAADy/wAAAAAGAAIAAADz/wAAAAAGAAIAAAD0/wAAAAAGAAIAAAD9////AAAIAAAAAAD9/wAAAAAIAAEAAAD+////AAAJAAAAAAD+/wAAAAAJAAEAAAD9/wEAAAAIAAEAAAD+/wEAAAAJAAEAAADx/wEAAAAGAAUAAAD///b/AAAEAAIAAAD///f/AAAEAAIAAAD///j/AAAEAAIAAAD///n/AAAEAAIAAAD///r/AAAEAAIAAAD///v/AAAEAAIAAAD///z/AAAEAAIAAAD///3/AAAEAAIAAAD///7/AAAEAAIAAAD/////AAAEAAIAAAD//wAAAAAEAAIAAAD//wEAAAAEAAIAAAAAAPb/AAAEAAIAAAAAAPf/AAAEAAIAAAAAAPj/AAAEAAIAAAAAAPn/AAAEAAIAAAAAAPr/AAAEAAIAAAAAAPv/AAAEAAIAAAAAAPz/AAAEAAIAAAAAAP3/AAAEAAIAAAAAAP7/AAAEAAIAAAAAAP//AAAEAAIAAAAAAAAAAAAEAAIAAAAAAAEAAAAEAAIAAAABAPb/AAAEAAIAAAABAPf/AAAEAAIAAAABAPj/AAAEAAIAAAABAPn/AAAEAAIAAAABAPr/AAAEAAIAAAABAPv/AAAEAAIAAAABAPz/AAAEAAIAAAABAP3/AAAEAAIAAAABAP7/AAAEAAIAAAABAP//AAAEAAIAAAABAAAAAAAEAAIAAAABAAEAAAAEAAIAAAACAPb/AAAEAAIAAAACAPf/AAAEAAIAAAACAPj/AAAEAAIAAAACAPn/AAAEAAIAAAACAPr/AAAEAAIAAAACAPv/AAAEAAIAAAACAPz/AAAEAAIAAAACAP3/AAAEAAIAAAACAP7/AAAEAAIAAAACAP//AAAEAAIAAAACAAAAAAAEAAIAAAACAAEAAAAEAAIAAAADAPb/AAAEAAIAAAADAPf/AAAEAAIAAAADAPj/AAAEAAIAAAADAPn/AAAEAAIAAAADAPr/AAAEAAIAAAADAPv/AAAEAAIAAAADAPz/AAAEAAIAAAADAP3/AAAEAAIAAAADAP7/AAAEAAIAAAADAP//AAAEAAIAAAADAAAAAAAEAAIAAAADAAEAAAAEAAIAAAAFAPz/AAAIAAQAAAAFAP3/AAAIAAUAAAAGAPz/AAAJAAQAAAAGAP3/AAAJAAUAAAALAAAAAAAFAAQAAAAMAAAAAAAGAAQAAAAOAAAAAAAGAAQAAAAPAAAAAAAHAAQAAAANAAAAAAAGAAQAAAANAAEAAAAGAAUAAAAHAP//AAAGAAUAAAAEAP7/AAAFAAMAAAAFAP7/AAAGAAMAAAAJAP7/AAAGAAMAAAAKAP7/AAAHAAMAAAAGAP7/AAAGAAMAAAAHAP7/AAAGAAMAAAAIAP7/AAAGAAMAAAAHAAAAAAAHAAUAAAAHAAEAAAAHAAUAAAALAP7/AQAAAAAACwD+//v/AQAAAAAACQD+//f/AQAAAAAACQAQAPf/AAABAAEAAAAQAPj/AAABAAEAAAAQAPn/AAABAAEAAAAQAPr/AAABAAEAAAAQAPv/AAABAAEAAAAQAPz/AAABAAEAAAAQAP3/AAABAAEAAAAQAP7/AAABAAEAAAAQAP//AAABAAEAAAAQAAAAAAABAAEAAAAQAAEAAAABAAEAAAARAPf/AAACAAEAAAARAPj/AAACAAEAAAARAPn/AAACAAEAAAARAPr/AAACAAEAAAARAPv/AAACAAEAAAARAPz/AAACAAEAAAARAP3/AAACAAEAAAARAP7/AAACAAEAAAARAP//AAACAAEAAAARAAAAAAACAAEAAAARAAEAAAACAAEAAAASAPf/AAACAAEAAAASAPj/AAACAAEAAAASAPn/AAACAAEAAAASAPr/AAACAAEAAAASAPv/AAACAAEAAAASAPz/AAACAAEAAAASAP3/AAACAAEAAAASAP7/AAACAAEAAAASAP//AAACAAEAAAASAAAAAAACAAEAAAASAAEAAAACAAEAAAAQAPb/AAABAAAAAAARAPb/AAACAAAAAAASAPb/AAACAAAAAADu/wAAAAAFAAIAAADv/wAAAAAGAAIAAADx/wIAAAAHAAUAAAAHAAIAAAAHAAUAAAANAAIAAAAHAAUAAAATAPb/AAACAAAAAAAUAPb/AAACAAAAAAAVAPb/AAACAAAAAAAWAPb/AAACAAAAAAAXAPb/AAACAAAAAAAYAPb/AAACAAAAAAAZAPb/AAACAAAAAAAaAPb/AAACAAAAAAAbAPb/AAACAAAAAAAcAPb/AAACAAAAAAAdAPb/AAACAAAAAAAeAPb/AAACAAAAAAAfAPb/AAACAAAAAAAgAPb/AAACAAAAAAAhAPb/AAACAAAAAAAiAPb/AAACAAAAAAAjAPb/AAACAAAAAAAkAPb/AAACAAAAAAAlAPb/AAACAAAAAAAmAPb/AAADAAAAAAATAPf/AAACAAEAAAAUAPf/AAACAAEAAAAVAPf/AAACAAEAAAAWAPf/AAACAAEAAAAXAPf/AAACAAEAAAAYAPf/AAACAAEAAAAZAPf/AAACAAEAAAAaAPf/AAACAAEAAAAbAPf/AAACAAEAAAAcAPf/AAACAAEAAAAdAPf/AAACAAEAAAAeAPf/AAACAAEAAAAfAPf/AAACAAEAAAAgAPf/AAACAAEAAAAhAPf/AAACAAEAAAAiAPf/AAACAAEAAAAjAPf/AAACAAEAAAAkAPf/AAACAAEAAAAlAPf/AAACAAEAAAAmAPf/AAADAAEAAAATAPj/AAACAAEAAAAUAPj/AAACAAEAAAAVAPj/AAACAAEAAAAWAPj/AAACAAEAAAAXAPj/AAACAAEAAAAYAPj/AAACAAEAAAAZAPj/AAACAAEAAAAaAPj/AAACAAEAAAAbAPj/AAACAAEAAAAcAPj/AAACAAEAAAAdAPj/AAACAAEAAAAeAPj/AAACAAEAAAAfAPj/AAACAAEAAAAgAPj/AAACAAEAAAAhAPj/AAACAAEAAAAiAPj/AAACAAEAAAAjAPj/AAACAAEAAAAkAPj/AAACAAEAAAAlAPj/AAACAAEAAAAmAPj/AAADAAEAAAATAPn/AAACAAEAAAAUAPn/AAACAAEAAAAVAPn/AAACAAEAAAAWAPn/AAACAAEAAAAXAPn/AAACAAEAAAAYAPn/AAACAAEAAAAZAPn/AAACAAEAAAAaAPn/AAACAAEAAAAbAPn/AAACAAEAAAAcAPn/AAACAAEAAAAdAPn/AAACAAEAAAAeAPn/AAACAAEAAAAfAPn/AAACAAEAAAAgAPn/AAACAAEAAAAhAPn/AAACAAEAAAAiAPn/AAACAAEAAAAjAPn/AAACAAEAAAAkAPn/AAACAAEAAAAlAPn/AAACAAEAAAAmAPn/AAADAAEAAAATAPr/AAACAAEAAAAUAPr/AAACAAEAAAAVAPr/AAACAAEAAAAWAPr/AAACAAEAAAAXAPr/AAACAAEAAAAYAPr/AAACAAEAAAAZAPr/AAACAAEAAAAaAPr/AAACAAEAAAAbAPr/AAACAAEAAAAcAPr/AAACAAEAAAAdAPr/AAACAAEAAAAeAPr/AAACAAEAAAAfAPr/AAACAAEAAAAgAPr/AAACAAEAAAAhAPr/AAACAAEAAAAiAPr/AAACAAEAAAAjAPr/AAACAAEAAAAkAPr/AAACAAEAAAAlAPr/AAACAAEAAAAmAPr/AAADAAEAAAATAPv/AAACAAEAAAAUAPv/AAACAAEAAAAVAPv/AAACAAEAAAAWAPv/AAACAAEAAAAXAPv/AAACAAEAAAAYAPv/AAACAAEAAAAZAPv/AAACAAEAAAAaAPv/AAACAAEAAAAbAPv/AAACAAEAAAAcAPv/AAACAAEAAAAdAPv/AAACAAEAAAAeAPv/AAACAAEAAAAfAPv/AAACAAEAAAAgAPv/AAACAAEAAAAhAPv/AAACAAEAAAAiAPv/AAACAAEAAAAjAPv/AAACAAEAAAAkAPv/AAACAAEAAAAlAPv/AAACAAEAAAAmAPv/AAADAAEAAAATAPz/AAACAAEAAAAUAPz/AAACAAEAAAAVAPz/AAACAAEAAAAWAPz/AAACAAEAAAAXAPz/AAACAAEAAAAYAPz/AAACAAEAAAAZAPz/AAACAAEAAAAaAPz/AAACAAEAAAAbAPz/AAACAAEAAAAcAPz/AAACAAEAAAAdAPz/AAACAAEAAAAeAPz/AAACAAEAAAAfAPz/AAACAAEAAAAgAPz/AAACAAEAAAAhAPz/AAACAAEAAAAiAPz/AAACAAEAAAAjAPz/AAACAAEAAAAkAPz/AAACAAEAAAAlAPz/AAACAAEAAAAmAPz/AAADAAEAAAATAP3/AAACAAEAAAAUAP3/AAACAAEAAAAVAP3/AAACAAEAAAAWAP3/AAACAAEAAAAXAP3/AAACAAEAAAAYAP3/AAACAAEAAAAZAP3/AAACAAEAAAAaAP3/AAACAAEAAAAbAP3/AAACAAEAAAAcAP3/AAACAAEAAAAdAP3/AAACAAEAAAAeAP3/AAACAAEAAAAfAP3/AAACAAEAAAAgAP3/AAACAAEAAAAhAP3/AAACAAEAAAAiAP3/AAACAAEAAAAjAP3/AAACAAEAAAAkAP3/AAACAAEAAAAlAP3/AAACAAEAAAAmAP3/AAADAAEAAAATAP7/AAACAAEAAAAUAP7/AAACAAEAAAAVAP7/AAACAAEAAAAWAP7/AAACAAEAAAAXAP7/AAACAAEAAAAYAP7/AAACAAEAAAAZAP7/AAACAAEAAAAaAP7/AAACAAEAAAAbAP7/AAACAAEAAAAcAP7/AAACAAEAAAAdAP7/AAACAAEAAAAeAP7/AAACAAEAAAAfAP7/AAACAAEAAAAgAP7/AAACAAEAAAAhAP7/AAACAAEAAAAiAP7/AAACAAEAAAAjAP7/AAACAAEAAAAkAP7/AAACAAEAAAAlAP7/AAACAAEAAAAmAP7/AAADAAEAAAATAP//AAACAAEAAAAUAP//AAACAAEAAAAVAP//AAACAAEAAAAWAP//AAACAAEAAAAXAP//AAACAAEAAAAYAP//AAACAAEAAAAZAP//AAACAAEAAAAaAP//AAACAAEAAAAbAP//AAACAAEAAAAcAP//AAACAAEAAAAdAP//AAACAAEAAAAeAP//AAACAAEAAAAfAP//AAACAAEAAAAgAP//AAACAAEAAAAhAP//AAACAAEAAAAiAP//AAACAAEAAAAjAP//AAACAAEAAAAkAP//AAACAAEAAAAlAP//AAACAAEAAAAmAP//AAADAAEAAAATAAAAAAACAAEAAAAUAAAAAAACAAEAAAAVAAAAAAACAAEAAAAWAAAAAAACAAEAAAAXAAAAAAACAAEAAAAYAAAAAAACAAEAAAAZAAAAAAACAAEAAAAaAAAAAAACAAEAAAAbAAAAAAACAAEAAAAcAAAAAAACAAEAAAAdAAAAAAACAAEAAAAeAAAAAAACAAEAAAAfAAAAAAACAAEAAAAgAAAAAAACAAEAAAAhAAAAAAACAAEAAAAiAAAAAAACAAEAAAAjAAAAAAACAAEAAAAkAAAAAAACAAEAAAAlAAAAAAACAAEAAAAmAAAAAAADAAEAAAATAAEAAAACAAEAAAAUAAEAAAACAAEAAAAVAAEAAAACAAEAAAAWAAEAAAACAAEAAAAXAAEAAAACAAEAAAAYAAEAAAACAAEAAAAZAAEAAAACAAEAAAAaAAEAAAACAAEAAAAbAAEAAAACAAEAAAAcAAEAAAACAAEAAAAdAAEAAAACAAEAAAAeAAEAAAACAAEAAAAfAAEAAAACAAEAAAAgAAEAAAACAAEAAAAhAAEAAAACAAEAAAAiAAEAAAACAAEAAAAjAAEAAAACAAEAAAAkAAEAAAACAAEAAAAlAAEAAAACAAEAAAAmAAEAAAADAAEAAAAQAAIAAAABAAIAAAARAAIAAAACAAIAAAASAAIAAAACAAIAAAATAAIAAAACAAIAAAAUAAIAAAACAAIAAAAVAAIAAAACAAIAAAAWAAIAAAACAAIAAAAXAAIAAAACAAIAAAAYAAIAAAACAAIAAAAZAAIAAAACAAIAAAAaAAIAAAACAAIAAAAbAAIAAAACAAIAAAAcAAIAAAACAAIAAAAdAAIAAAACAAIAAAAeAAIAAAACAAIAAAAfAAIAAAACAAIAAAAgAAIAAAACAAIAAAAhAAIAAAACAAIAAAAiAAIAAAACAAIAAAAjAAIAAAACAAIAAAAkAAIAAAACAAIAAAAlAAIAAAACAAIAAAAmAAIAAAADAAIAAAA=")

[node name="StartCastle" parent="." instance=ExtResource("7_n8at7")]
position = Vector2(-216, -40)

[node name="CameraRightLimit" type="Node2D" parent="."]
position = Vector2(304, -80)
script = ExtResource("8_dnxbp")
metadata/_custom_type_script = "uid://bdq0373j5n5o0"

[node name="DropShadow" parent="." instance=ExtResource("9_878l6")]

[node name="PipeArea" parent="." instance=ExtResource("10_t1ptu")]
position = Vector2(-32, -16)
target_level = "uid://rw3nm4d1su58"

[node name="PipeArea2" parent="." instance=ExtResource("10_t1ptu")]
position = Vector2(96, -64)
target_level = "uid://rw3nm4d1su58"

[node name="TileMapConverter" type="Node" parent="." node_paths=PackedStringArray("tilemap")]
script = ExtResource("10_cwj12")
tilemap = NodePath("../Tiles")
metadata/_custom_type_script = "uid://cybpwmw4ywoow"

[node name="LevelBG" parent="." instance=ExtResource("11_5r15g")]

[node name="ChallengeNodes" type="Node" parent="."]
script = ExtResource("11_n8at7")
metadata/_custom_type_script = "uid://cgm3opb5qudc1"

[node name="RedCoin" parent="ChallengeNodes" instance=ExtResource("12_dnxbp")]
position = Vector2(216, -8)

[connection signal="block_destroyed" from="Tiles/InvisibleQuestionBlock" to="Tiles/InvisibleQuestionBlock/LevelPersistance" method="set_as_active_2"]
[connection signal="block_emptied" from="Tiles/InvisibleQuestionBlock" to="Tiles/InvisibleQuestionBlock/LevelPersistance" method="set_as_active"]
[connection signal="player_block_hit" from="Tiles/InvisibleQuestionBlock" to="Tiles/InvisibleQuestionBlock" method="player_mushroom_check"]
[connection signal="player_block_hit" from="Tiles/InvisibleQuestionBlock" to="Tiles/InvisibleQuestionBlock" method="dispense_item" unbinds=1]
[connection signal="player_block_hit" from="Tiles/InvisibleQuestionBlock" to="Tiles/InvisibleQuestionBlock/BlockAnimations" method="bounce_block" unbinds=1]
[connection signal="shell_block_hit" from="Tiles/InvisibleQuestionBlock" to="Tiles/InvisibleQuestionBlock" method="dispense_item" unbinds=1]
[connection signal="shell_block_hit" from="Tiles/InvisibleQuestionBlock" to="Tiles/InvisibleQuestionBlock/BlockAnimations" method="bounce_block" unbinds=1]
[connection signal="block_destroyed" from="Tiles/@AnimatableBody2D@107307" to="Tiles/@AnimatableBody2D@107307/LevelPersistance" method="set_as_active_2"]
[connection signal="block_emptied" from="Tiles/@AnimatableBody2D@107307" to="Tiles/@AnimatableBody2D@107307/LevelPersistance" method="set_as_active"]
[connection signal="player_block_hit" from="Tiles/@AnimatableBody2D@107307" to="Tiles/@AnimatableBody2D@107307" method="player_mushroom_check"]
[connection signal="player_block_hit" from="Tiles/@AnimatableBody2D@107307" to="Tiles/@AnimatableBody2D@107307" method="dispense_item" unbinds=1]
[connection signal="player_block_hit" from="Tiles/@AnimatableBody2D@107307" to="Tiles/@AnimatableBody2D@107307/BlockAnimations" method="bounce_block" unbinds=1]
[connection signal="shell_block_hit" from="Tiles/@AnimatableBody2D@107307" to="Tiles/@AnimatableBody2D@107307" method="dispense_item" unbinds=1]
[connection signal="shell_block_hit" from="Tiles/@AnimatableBody2D@107307" to="Tiles/@AnimatableBody2D@107307/BlockAnimations" method="bounce_block" unbinds=1]
[connection signal="block_destroyed" from="Tiles/@AnimatableBody2D@107308" to="Tiles/@AnimatableBody2D@107308/LevelPersistance" method="set_as_active_2"]
[connection signal="block_emptied" from="Tiles/@AnimatableBody2D@107308" to="Tiles/@AnimatableBody2D@107308/LevelPersistance" method="set_as_active"]
[connection signal="player_block_hit" from="Tiles/@AnimatableBody2D@107308" to="Tiles/@AnimatableBody2D@107308" method="player_mushroom_check"]
[connection signal="player_block_hit" from="Tiles/@AnimatableBody2D@107308" to="Tiles/@AnimatableBody2D@107308" method="dispense_item" unbinds=1]
[connection signal="player_block_hit" from="Tiles/@AnimatableBody2D@107308" to="Tiles/@AnimatableBody2D@107308/BlockAnimations" method="bounce_block" unbinds=1]
[connection signal="shell_block_hit" from="Tiles/@AnimatableBody2D@107308" to="Tiles/@AnimatableBody2D@107308" method="dispense_item" unbinds=1]
[connection signal="shell_block_hit" from="Tiles/@AnimatableBody2D@107308" to="Tiles/@AnimatableBody2D@107308/BlockAnimations" method="bounce_block" unbinds=1]
