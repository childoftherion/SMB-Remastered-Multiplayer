[gd_scene load_steps=14 format=3 uid="uid://ccxhom4wrgfv4"]

[ext_resource type="Texture2D" uid="uid://dy3p03djelkb3" path="res://Assets/Sprites/Particles/Leaves.png" id="1_0tjo2"]
[ext_resource type="Script" uid="uid://d3kftxro4bfnv" path="res://Scripts/Classes/Entities/Objects/WindArea.gd" id="1_68lil"]
[ext_resource type="AudioStream" uid="uid://g5cjhcnpp1fp" path="res://Assets/Audio/SFX/Wind.wav" id="3_qar1j"]
[ext_resource type="Script" uid="uid://cbal8ms2oe1ik" path="res://Scripts/Classes/Components/ResourceSetterNew.gd" id="3_sbjyn"]
[ext_resource type="Script" uid="uid://cq6f682453q6o" path="res://Scripts/Classes/Components/ResourceSetter.gd" id="4_8c2la"]
[ext_resource type="JSON" path="res://Assets/Sprites/Particles/WindParticles.json" id="4_qvx5e"]
[ext_resource type="Script" uid="uid://cmvlgsjmsk0v5" path="res://Scripts/Classes/Resources/ThemedResource.gd" id="5_3arhp"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_68lil"]
size = Vector2(16, 16)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_qar1j"]
particles_animation = true
particles_anim_h_frames = 2
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="Curve" id="Curve_0tjo2"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.894444, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_8c2la"]
curve = SubResource("Curve_0tjo2")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_wu018"]
particle_flag_disable_z = true
emission_shape_scale = Vector3(1, 15, 1)
emission_shape = 3
emission_box_extents = Vector3(1, 8, 1)
spread = 0.0
initial_velocity_min = 100.0
initial_velocity_max = 500.0
angular_velocity_min = -720.0
angular_velocity_max = 720.0
gravity = Vector3(0, 0, 0)
alpha_curve = SubResource("CurveTexture_8c2la")
anim_offset_max = 1.0

[sub_resource type="Resource" id="Resource_sbjyn"]
script = ExtResource("5_3arhp")
Overworld = ExtResource("3_qar1j")
metadata/_custom_type_script = "uid://cmvlgsjmsk0v5"

[node name="WindArea" type="Area2D"]
script = ExtResource("1_68lil")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_68lil")
debug_color = Color(0, 0.6, 0, 0.419608)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 0

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
grow_vertical = 2
metadata/_edit_use_anchors_ = true

[node name="Particles" type="GPUParticles2D" parent="CanvasLayer/Control"]
unique_name_in_owner = true
material = SubResource("CanvasItemMaterial_qar1j")
position = Vector2(-64, 0)
emitting = false
amount = 64
texture = ExtResource("1_0tjo2")
lifetime = 2.0
process_material = SubResource("ParticleProcessMaterial_wu018")

[node name="ResourceSetterNew" type="Node" parent="CanvasLayer/Control/Particles" node_paths=PackedStringArray("node_to_affect")]
script = ExtResource("3_sbjyn")
node_to_affect = NodePath("..")
property_name = "texture"
mode = 1
resource_json = ExtResource("4_qvx5e")
metadata/_custom_type_script = "uid://cbal8ms2oe1ik"

[node name="SFX" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_qar1j")
bus = &"SFX"

[node name="ResourceSetter" type="Node" parent="SFX" node_paths=PackedStringArray("node_to_affect")]
script = ExtResource("4_8c2la")
node_to_affect = NodePath("..")
property_name = "stream"
themed_resource = SubResource("Resource_sbjyn")
metadata/_custom_type_script = "uid://cq6f682453q6o"
