[gd_scene load_steps=9 format=3 uid="uid://bm8obwlkm56wb"]

[ext_resource type="Script" uid="uid://c4m157i8p54cf" path="res://Scripts/Classes/Entities/Objects/FallingPlatform.gd" id="1_krw4p"]
[ext_resource type="Texture2D" uid="uid://bk0p52ttwojml" path="res://Assets/Sprites/Tilesets/Platform.png" id="2_p76vr"]
[ext_resource type="Script" uid="uid://cbal8ms2oe1ik" path="res://Scripts/Classes/Components/ResourceSetterNew.gd" id="3_r8wfm"]
[ext_resource type="JSON" path="res://Assets/Sprites/Tilesets/Platform.json" id="4_odngu"]
[ext_resource type="Script" uid="uid://cpwloakvp672a" path="res://Scripts/Parts/EditorVisibleNode.gd" id="5_c36tx"]
[ext_resource type="Texture2D" uid="uid://cke2nve5v64am" path="res://Assets/Sprites/Editor/PlatformIcons/Falling.png" id="6_klq8y"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_r8wfm"]
size = Vector2(32, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c36tx"]
size = Vector2(36, 10)

[node name="FallingPlatform" type="AnimatableBody2D"]
script = ExtResource("1_krw4p")

[node name="TextureRect" type="NinePatchRect" parent="."]
offset_left = -16.0
offset_right = 16.0
offset_bottom = 8.0
texture = ExtResource("2_p76vr")
patch_margin_left = 8
patch_margin_right = 8
axis_stretch_horizontal = 1

[node name="ResourceSetter" type="Node" parent="TextureRect" node_paths=PackedStringArray("node_to_affect")]
script = ExtResource("3_r8wfm")
node_to_affect = NodePath("..")
property_name = "texture"
mode = 1
resource_json = ExtResource("4_odngu")
metadata/_custom_type_script = "uid://cbal8ms2oe1ik"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 4)
shape = SubResource("RectangleShape2D_r8wfm")

[node name="PlayerDetect" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerDetect"]
position = Vector2(0, 3)
shape = SubResource("RectangleShape2D_c36tx")
one_way_collision = true

[node name="LevelEditorVisibleNode" type="Node2D" parent="."]
visibility_layer = 2
script = ExtResource("5_c36tx")
metadata/_custom_type_script = "uid://cpwloakvp672a"

[node name="Sprite2D" type="Sprite2D" parent="LevelEditorVisibleNode"]
position = Vector2(8, 8)
texture = ExtResource("6_klq8y")
